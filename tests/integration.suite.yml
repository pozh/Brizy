# Codeception Test Suite Configuration
#
# Suite for unit or integration tests that require WordPress functions and classes.

actor: WpunitTester
modules:
  enabled:
    - Asserts
    - WPDb
    - WPLoader
    - \Helper\Unit
    - \Helper\Wpunit
    - \Helper\Integration
  config:
    WPDb:
      dsn: 'mysql:host=%TEST_SITE_DB_HOST%;dbname=%TEST_SITE_DB_NAME%'
      user: '%TEST_SITE_DB_USER%'
      password: '%TEST_SITE_DB_PASSWORD%'
      dump: 'tests/_data/dump-active-brizy.sql'
      reconect: true
      populate: true
      cleanup: false
      waitlock: 10
      url: '%TEST_SITE_WP_URL%'
      urlReplacement: true
      tablePrefix: '%TEST_SITE_TABLE_PREFIX%'
    WPLoader:
      wpRootFolder: "%WP_ROOT_FOLDER%"
      isolatedInstall: true
      domain: "%TEST_SITE_WP_DOMAIN%"
      dbName: "%TEST_SITE_DB_NAME%"
      dbHost: "%TEST_SITE_DB_HOST%"
      dbUser: "%TEST_SITE_DB_USER%"
      dbPassword: "%TEST_SITE_DB_PASSWORD%"
      tablePrefix: "%TEST_SITE_TABLE_PREFIX%"
      wpDebug: true
      plugins: ['brizy/brizy.php']
      activatePlugins: ['brizy/brizy.php']